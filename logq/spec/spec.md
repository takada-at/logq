memo
========

## コンパイル時にやること

ex.

(col[1]=="hoge" and col[2]=="fuga" and col[4]=="poyo") or (col[2]=="hogera" and col[5]=="piyo")

- とりあえず文字列一致、文字列比較、文字列のcontainだけをサポートする。
- 論理演算子はor/and/not

### 論理式の簡単化
- どんな論理式も、1つ以上のAND節がORで結ばれたものに展開できる
- クワイン・マクラスキーのアルゴリズムを適用(あまり必要ない)

### クエリコンパイル
以下のような表をつくればOK

|     | 0 | 1     | 2     | 3 | 4     | 5 |
| --------------------------------------- |
| AND |   | =hoge | =fuga |   | =poyo |   |
| AND |   |       | =poyo |   | =piyo |   |

## 実行時にやること

パースをしていく。カラムのパース時に、表を見て、演算を行なう。マッチしなければ行を削除。すべてマッチすれば受理状態。

すべての行が削除されて非受理状態ならパースを終了し、次の行へ。



## カラムの仕様
ltsvやjsonだとカラムの順番が変わりうる。以下のような変換マップを持つ。

"col_a"  => 0, "col_b" => 1